<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebTimeWise</title>
    <link rel="stylesheet" href="popup.css">
    <script src="lib/chart.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="main-header">
            <h1>WebTimeWise</h1>
            <div class="flag-container">
                <div id="selectedFlag" class="selected-flag">
                    <img id="currentFlag" src="flags/us.png" alt="English" class="flag-icon">
                </div>
                <div id="flagDropdown" class="flag-dropdown">
                    <div class="flag-option" data-flag="us"><img src="flags/us.png" alt="English"><span>English</span></div>
                    <div class="flag-option" data-flag="cn"><img src="flags/cn.png" alt="‰∏≠Êñá"><span>‰∏≠Êñá</span></div>
                    <div class="flag-option" data-flag="in"><img src="flags/in.png" alt="‡§π‡§ø‡§®‡•ç‡§¶‡•Ä"><span>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</span></div>
                    <div class="flag-option" data-flag="jp"><img src="flags/jp.png" alt="Êó•Êú¨Ë™û"><span>Êó•Êú¨Ë™û</span></div>
                    <div class="flag-option" data-flag="fr"><img src="flags/fr.png" alt="Fran√ßais"><span>Fran√ßais</span></div>
                    <div class="flag-option" data-flag="es"><img src="flags/es.png" alt="Espa√±ol"><span>Espa√±ol</span></div>
                </div>
            </div>
            <div class="time-period">
                <button id="todayBtn" class="time-btn active">Today</button>
                <button id="weekBtn" class="time-btn">This Week</button>
            </div>
        </header>

        <section class="main-content">
            <div class="total-time-card">
                <h2>Total Time Today</h2>
                <p id="totalTime">--:--:--</p>
            </div>

            <div id="sessionInsights" class="session-insights-card">
                <!-- Session insights will be loaded here by popup.js -->
            </div>

            <div class="view-switcher">
                <button id="categoryViewBtn" class="view-btn active">By Category</button>
                <button id="websiteViewBtn" class="switcher-btn">By Website</button>
            </div>

            <div class="chart-container">
                <canvas id="categoryChart"></canvas>
            </div>
        </section>

        <section class="top-sites">
            <h2>Top Sites</h2>
            <div id="topSitesList" class="sites-list"></div>
        </section>

        <section class="actions">
            <button id="goalsBtn" class="action-btn">üéØ Goals</button>
            <button id="settingsBtn" class="action-btn">‚öôÔ∏è Settings</button>
            <button id="moreBtn" class="action-btn">üìä More</button>
        </section>

        <section class="block-site-section">
            <h2>Block a Website</h2>
            <div class="block-input">
                <input type="text" id="siteToBlock" placeholder="e.g., facebook.com">
                <input type="number" id="blockDuration" placeholder="Minutes">
                <button id="addBlockBtn">Block</button>
            </div>
            <h3>Currently Blocked</h3>
            <div id="blockedSitesList" class="blocked-sites-list"></div>
        </section>

        <footer class="main-footer">
            <button id="dashboardBtn" class="footer-btn">Full Dashboard</button>
            <a href="https://bolt.new" target="_blank" class="bolt-badge-logo">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="18" height="18" style="margin-right: 8px;">
                <path d="M13 2L3 14h7l-1 8L21 10h-7l1-8z"/>
              </svg>
              <span>Built with <strong>Bolt</strong></span>
            </a>
        </footer>
    </div>

    <!-- Modals (restored with full content) -->
    <div id="moreModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeMoreBtn">&times;</span>
            <h2>Weekly Summary</h2>
            <div class="chart-container" style="height: 250px; margin: 20px 0;">
                <canvas id="weeklyChart"></canvas>
            </div>
            <div class="chart-container" style="height: 250px; margin: 30px 0 20px 0;">
                <canvas id="weeklyWebsiteChart"></canvas>
            </div>
            <button id="exportDataBtn" class="action-btn">Export Data</button>
            <!-- Other content for 'More' modal -->
        </div>
    </div>
    <div id="goalsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeGoalsBtn">&times;</span>
            <h2>Your Goals</h2>
            <div class="streak-info"></div>
            <div class="goals-container"></div>
            <button id="editGoalsBtn" class="action-btn">Edit Goals</button>
        </div>
    </div>
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeSettingsBtn">&times;</span>
            <h2>Settings</h2>
            <h3>Manage Categories</h3>
            <div id="categoriesList"></div>
            <button id="saveSettingsBtn" class="action-btn">Save Settings</button>
        </div>
    </div>
    <div id="editGoalsModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeEditGoalsBtn">&times;</span>
            <h2>Edit Goals</h2>
            <form id="categoryGoals"></form>
            <button id="saveGoalsBtn" class="action-btn">Save Goals</button>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>